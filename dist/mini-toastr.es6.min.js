'use strict';var _ref,_style,_typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};Object.defineProperty(exports,'__esModule',{value:!0});function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var PACKAGE_NAME='mini-toastr';function fadeOut(a,b){var c=this;a.style.opacity&&0.05<a.style.opacity?a.style.opacity-=0.05:a.style.opacity&&0.1>=a.style.opacity?a.parentNode&&(a.parentNode.removeChild(a),b&&b()):a.style.opacity=0.9,setTimeout(function(){return fadeOut.apply(c,[a,b])},1e3/30)}var TYPES={error:'error',warn:'warn',success:'success',info:'info'},CLASSES={container:''+PACKAGE_NAME,notification:PACKAGE_NAME+'__notification',title:PACKAGE_NAME+'-notification__title',icon:PACKAGE_NAME+'-notification__icon',message:PACKAGE_NAME+'-notification__message',error:'-'+TYPES.error,warn:'-'+TYPES.warn,success:'-'+TYPES.success,info:'-'+TYPES.info};function flatten(a,b,c){for(var e in b=b||{},c=c||'',a)if(a.hasOwnProperty(e)){var d=a[e];d&&'object'===('undefined'==typeof d?'undefined':_typeof(d))&&!(d instanceof Date||d instanceof RegExp)?flatten(d,b,c+e+' '):b[c]&&'object'===_typeof(b[c])?b[c][e]=d:(b[c]={},b[c][e]=d)}return b}function makeCss(a){var b=flatten(a),c=JSON.stringify(b,null,2);return c=c.replace(/"([^"]*)": \{/g,'$1 {').replace(/"([^"]*)"/g,'$1').replace(/(\w*-?\w*): ([\w\d .#]*),?/g,'$1: $2;').replace(/},/g,'}\n').replace(/ &([.:])/g,'$1'),c=c.substr(1,c.lastIndexOf('}')-1),c}function appendStyles(a){var b=document.head||document.getElementsByTagName('head')[0],c=makeNode('style');c.id=PACKAGE_NAME+'-styles',c.type='text/css',c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)}var defaultConfig={types:TYPES,animation:fadeOut,timeout:3e3,icons:{},appendTarget:document.body,node:makeNode(),style:(_style={},_defineProperty(_style,'.'+CLASSES.container,{position:'fixed','z-index':99999,right:'12px',top:'12px'}),_defineProperty(_style,'.'+CLASSES.notification,(_ref={cursor:'pointer',padding:'12px 18px',margin:'0 0 6px 0','background-color':'#000',opacity:0.8,color:'#fff','border-radius':'3px','box-shadow':'#3c3b3b 0 0 12px',width:'300px'},_defineProperty(_ref,'&.'+CLASSES.error,{'background-color':'#D5122B'}),_defineProperty(_ref,'&.'+CLASSES.warn,{'background-color':'#F5AA1E'}),_defineProperty(_ref,'&.'+CLASSES.success,{'background-color':'#7AC13E'}),_defineProperty(_ref,'&.'+CLASSES.info,{'background-color':'#4196E1'}),_defineProperty(_ref,'&:hover',{opacity:1,'box-shadow':'#000 0 0 12px'}),_ref)),_defineProperty(_style,'.'+CLASSES.title,{'font-weight':'500'}),_defineProperty(_style,'.'+CLASSES.message,{display:'inline-block','vertical-align':'middle',width:'240px',padding:'0 12px'}),_style)};function makeNode(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'div';return document.createElement(a)}function createIcon(a,b,c){var d=makeNode(c.icons[b].nodeType),e=c.icons[b].attrs;for(var f in e)e.hasOwnProperty(f)&&d.setAttribute(f,e[f]);a.appendChild(d)}function addElem(a,b,c){var d=makeNode();d.className=c,d.appendChild(document.createTextNode(b)),a.appendChild(d)}var _exports={config:defaultConfig,showMessage:function showMessage(a,b,c,d,e,f){var g={};Object.assign(g,this.config),Object.assign(g,f);var h=makeNode();return h.className=CLASSES.notification+' '+CLASSES[c],h.onclick=function(){g.animation(h,null)},b&&addElem(h,b,CLASSES.title),g.icons[c]&&createIcon(h,c,g),a&&addElem(h,a,CLASSES.message),g.node.insertBefore(h,g.node.firstChild),setTimeout(function(){return g.animation(h,e)},d||g.timeout),e&&e(),this},init:function init(a){var b=this,c={};Object.assign(c,defaultConfig),Object.assign(c,a);var d=makeCss(c.style);return appendStyles(d),c.node.id=''+CLASSES.container,c.node.className=''+CLASSES.container,c.appendTarget.appendChild(c.node),Object.keys(c.types).forEach(function(e){_exports[c.types[e]]=function(f,g,h,i,j){return this.showMessage(f,g,c.types[e],h,i,j),this}.bind(b)}),this},setIcon:function setIcon(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'i',c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:[];c['class']=c['class']?c['class']+' '+CLASSES.icon:CLASSES.icon,this.config.icons[a]={nodeType:b,attrs:c}}};exports['default']=_exports;