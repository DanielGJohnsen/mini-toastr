{"version":3,"sources":["mini-toastr.es5.js"],"names":["root","factory","define","amd","exports","module","miniToastr","this","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_typeof","Symbol","iterator","constructor","prototype","fadeOut","element","cb","_this","style","opacity","parentNode","removeChild","setTimeout","apply","flatten","into","prefix","k","hasOwnProperty","prop","Date","RegExp","makeCss","flat","str","JSON","stringify","replace","substr","lastIndexOf","appendStyles","css","head","document","getElementsByTagName","styleElem","makeNode","id","PACKAGE_NAME","type","styleSheet","cssText","appendChild","createTextNode","arguments","length","undefined","createElement","createIcon","node","config","iconNode","icons","nodeType","attrs","setAttribute","addElem","text","className","elem","_ref","_style","window","init","TYPES","error","warn","success","info","CLASSES","container","notification","title","icon","message","defaultConfig","types","animation","timeout","appendTarget","body","position","z-index","right","top","cursor","padding","margin","background-color","color","border-radius","box-shadow","width","font-weight","display","vertical-align","showMessage","overrideConf","assign","notificationElem","onclick","insertBefore","firstChild","_this2","newConfig","keys","forEach","v","bind","setIcon"],"mappings":"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","file":"mini-toastr.es5.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.miniToastr = factory();\n  }\n}(this, function() {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// eslint-disable-next-line no-unused-vars\nvar miniToastr = function () {\n  'use strict';\n\n  //fix for server-side rendering\n\n  var _ref, _style;\n\n  if (typeof window === 'undefined') {\n    return {\n      init: function init() {}\n    };\n  }\n\n  var PACKAGE_NAME = 'mini-toastr';\n\n  function fadeOut(element, cb) {\n    var _this = this;\n\n    if (element.style.opacity && element.style.opacity > 0.05) {\n      element.style.opacity = element.style.opacity - 0.05;\n    } else if (element.style.opacity && element.style.opacity <= 0.1) {\n      if (element.parentNode) {\n        element.parentNode.removeChild(element);\n        if (cb) cb();\n      }\n    } else {\n      element.style.opacity = 0.9;\n    }\n    setTimeout(function () {\n      return fadeOut.apply(_this, [element, cb]);\n    }, 1000 / 30);\n  }\n\n  var TYPES = {\n    error: 'error',\n    warn: 'warn',\n    success: 'success',\n    info: 'info'\n  };\n\n  var CLASSES = {\n    container: '' + PACKAGE_NAME,\n    notification: PACKAGE_NAME + '__notification',\n    title: PACKAGE_NAME + '-notification__title',\n    icon: PACKAGE_NAME + '-notification__icon',\n    message: PACKAGE_NAME + '-notification__message',\n    error: '-' + TYPES.error,\n    warn: '-' + TYPES.warn,\n    success: '-' + TYPES.success,\n    info: '-' + TYPES.info\n  };\n\n  function flatten(obj, into, prefix) {\n    into = into || {};\n    prefix = prefix || '';\n\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k)) {\n        var prop = obj[k];\n        if (prop && (typeof prop === 'undefined' ? 'undefined' : _typeof(prop)) === 'object' && !(prop instanceof Date || prop instanceof RegExp)) {\n          flatten(prop, into, prefix + k + ' ');\n        } else {\n          if (into[prefix] && _typeof(into[prefix]) === 'object') {\n            into[prefix][k] = prop;\n          } else {\n            into[prefix] = {};\n            into[prefix][k] = prop;\n          }\n        }\n      }\n    }\n\n    return into;\n  }\n\n  function makeCss(obj) {\n    var flat = flatten(obj);\n    var str = JSON.stringify(flat, null, 2);\n    str = str.replace(/\"([^\"]*)\": \\{/g, '$1 {').replace(/\"([^\"]*)\"/g, '$1').replace(/(\\w*-?\\w*): ([\\w\\d .#]*),?/g, '$1: $2;').replace(/},/g, '}\\n').replace(/ &([.:])/g, '$1');\n\n    str = str.substr(1, str.lastIndexOf('}') - 1);\n\n    return str;\n  }\n\n  function appendStyles(css) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styleElem = makeNode('style');\n    styleElem.id = PACKAGE_NAME + '-styles';\n    styleElem.type = 'text/css';\n\n    if (styleElem.styleSheet) {\n      styleElem.styleSheet.cssText = css;\n    } else {\n      styleElem.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(styleElem);\n  }\n\n  var defaultConfig = {\n    types: TYPES,\n    animation: fadeOut,\n    timeout: 3000,\n    icons: {},\n    appendTarget: document.body,\n    node: makeNode(),\n    style: (_style = {}, _defineProperty(_style, '.' + CLASSES.container, {\n      position: 'fixed',\n      'z-index': 99999,\n      right: '12px',\n      top: '12px'\n    }), _defineProperty(_style, '.' + CLASSES.notification, (_ref = {\n      cursor: 'pointer',\n      padding: '12px 18px',\n      margin: '0 0 6px 0',\n      'background-color': '#000',\n      opacity: 0.8,\n      color: '#fff',\n      'border-radius': '3px',\n      'box-shadow': '#3c3b3b 0 0 12px',\n      width: '300px'\n    }, _defineProperty(_ref, '&.' + CLASSES.error, {\n      'background-color': '#D5122B'\n    }), _defineProperty(_ref, '&.' + CLASSES.warn, {\n      'background-color': '#F5AA1E'\n    }), _defineProperty(_ref, '&.' + CLASSES.success, {\n      'background-color': '#7AC13E'\n    }), _defineProperty(_ref, '&.' + CLASSES.info, {\n      'background-color': '#4196E1'\n    }), _defineProperty(_ref, '&:hover', {\n      opacity: 1,\n      'box-shadow': '#000 0 0 12px'\n    }), _ref)), _defineProperty(_style, '.' + CLASSES.title, {\n      'font-weight': '500'\n    }), _defineProperty(_style, '.' + CLASSES.message, {\n      display: 'inline-block',\n      'vertical-align': 'middle',\n      width: '240px',\n      padding: '0 12px'\n    }), _style)\n  };\n\n  function makeNode() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'div';\n\n    return document.createElement(type);\n  }\n\n  function createIcon(node, type, config) {\n    var iconNode = makeNode(config.icons[type].nodeType);\n    var attrs = config.icons[type].attrs;\n\n    for (var k in attrs) {\n      if (attrs.hasOwnProperty(k)) {\n        iconNode.setAttribute(k, attrs[k]);\n      }\n    }\n\n    node.appendChild(iconNode);\n  }\n\n  function addElem(node, text, className) {\n    var elem = makeNode();\n    elem.className = className;\n    elem.appendChild(document.createTextNode(text));\n    node.appendChild(elem);\n  }\n\n  var exports = {\n    config: defaultConfig,\n    showMessage: function showMessage(message, title, type, timeout, cb, overrideConf) {\n      var config = {};\n      Object.assign(config, this.config);\n      Object.assign(config, overrideConf);\n\n      var notificationElem = makeNode();\n      notificationElem.className = CLASSES.notification + ' ' + CLASSES[type];\n\n      notificationElem.onclick = function () {\n        config.animation(notificationElem, null);\n      };\n\n      if (title) addElem(notificationElem, title, CLASSES.title);\n      if (config.icons[type]) createIcon(notificationElem, type, config);\n      if (message) addElem(notificationElem, message, CLASSES.message);\n\n      config.node.insertBefore(notificationElem, config.node.firstChild);\n      setTimeout(function () {\n        return config.animation(notificationElem, cb);\n      }, timeout || config.timeout);\n\n      if (cb) cb();\n      return this;\n    },\n    init: function init(config) {\n      var _this2 = this;\n\n      var newConfig = {};\n      Object.assign(newConfig, defaultConfig);\n      Object.assign(newConfig, config);\n\n      var cssStr = makeCss(newConfig.style);\n      appendStyles(cssStr);\n\n      newConfig.node.id = '' + CLASSES.container;\n      newConfig.node.className = '' + CLASSES.container;\n      newConfig.appendTarget.appendChild(newConfig.node);\n\n      Object.keys(newConfig.types).forEach(function (v) {\n        exports[newConfig.types[v]] = function (message, title, timeout, cb, config) {\n          this.showMessage(message, title, newConfig.types[v], timeout, cb, config);\n          return this;\n        }.bind(_this2);\n      });\n\n      return this;\n    },\n    setIcon: function setIcon(type) {\n      var nodeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'i';\n      var attrs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      attrs['class'] = attrs['class'] ? attrs['class'] + ' ' + CLASSES.icon : CLASSES.icon;\n\n      this.config.icons[type] = {\n        nodeType: nodeType,\n        attrs: attrs\n      };\n    }\n  };\n\n  return exports;\n}();\nreturn miniToastr;\n}));\n"]}