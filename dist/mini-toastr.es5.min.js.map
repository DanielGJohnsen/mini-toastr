{"version":3,"sources":["mini-toastr.es5.js"],"names":["root","factory","define","amd","exports","module","miniToastr","this","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","fadeOut","element","cb","_this","style","opacity","parentNode","removeChild","setTimeout","apply","flatten","into","prefix","k","hasOwnProperty","prop","_typeof","Date","RegExp","makeCss","flat","str","JSON","stringify","replace","substr","lastIndexOf","appendStyles","css","head","document","getElementsByTagName","styleElem","makeNode","id","PACKAGE_NAME","type","styleSheet","cssText","appendChild","createTextNode","arguments","length","undefined","createElement","createIcon","node","config","iconNode","icons","nodeType","attrs","setAttribute","addElem","text","className","elem","_ref","_style","Symbol","iterator","constructor","prototype","TYPES","error","warn","success","info","CLASSES","container","notification","title","icon","message","defaultConfig","types","animation","timeout","appendTarget","body","position","z-index","right","top","cursor","padding","margin","background-color","color","border-radius","box-shadow","width","font-weight","display","vertical-align","_exports","showMessage","overrideConf","assign","notificationElem","onclick","insertBefore","firstChild","init","_this2","newConfig","keys","forEach","v","bind","setIcon"],"mappings":"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","file":"mini-toastr.es5.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.miniToastr = factory();\n  }\n}(this, function() {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ref, _style;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//fix for server-side rendering\n// if (typeof window === 'undefined') {\n//   return {\n//     init: () => {\n//     }\n//   }\n// }\n\nvar PACKAGE_NAME = 'mini-toastr';\n\nfunction fadeOut(element, cb) {\n  var _this = this;\n\n  if (element.style.opacity && element.style.opacity > 0.05) {\n    element.style.opacity = element.style.opacity - 0.05;\n  } else if (element.style.opacity && element.style.opacity <= 0.1) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n      if (cb) cb();\n    }\n  } else {\n    element.style.opacity = 0.9;\n  }\n  setTimeout(function () {\n    return fadeOut.apply(_this, [element, cb]);\n  }, 1000 / 30);\n}\n\nvar TYPES = {\n  error: 'error',\n  warn: 'warn',\n  success: 'success',\n  info: 'info'\n};\n\nvar CLASSES = {\n  container: '' + PACKAGE_NAME,\n  notification: PACKAGE_NAME + '__notification',\n  title: PACKAGE_NAME + '-notification__title',\n  icon: PACKAGE_NAME + '-notification__icon',\n  message: PACKAGE_NAME + '-notification__message',\n  error: '-' + TYPES.error,\n  warn: '-' + TYPES.warn,\n  success: '-' + TYPES.success,\n  info: '-' + TYPES.info\n};\n\nfunction flatten(obj, into, prefix) {\n  into = into || {};\n  prefix = prefix || '';\n\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      var prop = obj[k];\n      if (prop && (typeof prop === 'undefined' ? 'undefined' : _typeof(prop)) === 'object' && !(prop instanceof Date || prop instanceof RegExp)) {\n        flatten(prop, into, prefix + k + ' ');\n      } else {\n        if (into[prefix] && _typeof(into[prefix]) === 'object') {\n          into[prefix][k] = prop;\n        } else {\n          into[prefix] = {};\n          into[prefix][k] = prop;\n        }\n      }\n    }\n  }\n\n  return into;\n}\n\nfunction makeCss(obj) {\n  var flat = flatten(obj);\n  var str = JSON.stringify(flat, null, 2);\n  str = str.replace(/\"([^\"]*)\": \\{/g, '$1 {').replace(/\"([^\"]*)\"/g, '$1').replace(/(\\w*-?\\w*): ([\\w\\d .#]*),?/g, '$1: $2;').replace(/},/g, '}\\n').replace(/ &([.:])/g, '$1');\n\n  str = str.substr(1, str.lastIndexOf('}') - 1);\n\n  return str;\n}\n\nfunction appendStyles(css) {\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var styleElem = makeNode('style');\n  styleElem.id = PACKAGE_NAME + '-styles';\n  styleElem.type = 'text/css';\n\n  if (styleElem.styleSheet) {\n    styleElem.styleSheet.cssText = css;\n  } else {\n    styleElem.appendChild(document.createTextNode(css));\n  }\n\n  head.appendChild(styleElem);\n}\n\nvar defaultConfig = {\n  types: TYPES,\n  animation: fadeOut,\n  timeout: 3000,\n  icons: {},\n  appendTarget: document.body,\n  node: makeNode(),\n  style: (_style = {}, _defineProperty(_style, '.' + CLASSES.container, {\n    position: 'fixed',\n    'z-index': 99999,\n    right: '12px',\n    top: '12px'\n  }), _defineProperty(_style, '.' + CLASSES.notification, (_ref = {\n    cursor: 'pointer',\n    padding: '12px 18px',\n    margin: '0 0 6px 0',\n    'background-color': '#000',\n    opacity: 0.8,\n    color: '#fff',\n    'border-radius': '3px',\n    'box-shadow': '#3c3b3b 0 0 12px',\n    width: '300px'\n  }, _defineProperty(_ref, '&.' + CLASSES.error, {\n    'background-color': '#D5122B'\n  }), _defineProperty(_ref, '&.' + CLASSES.warn, {\n    'background-color': '#F5AA1E'\n  }), _defineProperty(_ref, '&.' + CLASSES.success, {\n    'background-color': '#7AC13E'\n  }), _defineProperty(_ref, '&.' + CLASSES.info, {\n    'background-color': '#4196E1'\n  }), _defineProperty(_ref, '&:hover', {\n    opacity: 1,\n    'box-shadow': '#000 0 0 12px'\n  }), _ref)), _defineProperty(_style, '.' + CLASSES.title, {\n    'font-weight': '500'\n  }), _defineProperty(_style, '.' + CLASSES.message, {\n    display: 'inline-block',\n    'vertical-align': 'middle',\n    width: '240px',\n    padding: '0 12px'\n  }), _style)\n};\n\nfunction makeNode() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'div';\n\n  return document.createElement(type);\n}\n\nfunction createIcon(node, type, config) {\n  var iconNode = makeNode(config.icons[type].nodeType);\n  var attrs = config.icons[type].attrs;\n\n  for (var k in attrs) {\n    if (attrs.hasOwnProperty(k)) {\n      iconNode.setAttribute(k, attrs[k]);\n    }\n  }\n\n  node.appendChild(iconNode);\n}\n\nfunction addElem(node, text, className) {\n  var elem = makeNode();\n  elem.className = className;\n  elem.appendChild(document.createTextNode(text));\n  node.appendChild(elem);\n}\n\nvar _exports = {\n  config: defaultConfig,\n  showMessage: function showMessage(message, title, type, timeout, cb, overrideConf) {\n    var config = {};\n    Object.assign(config, this.config);\n    Object.assign(config, overrideConf);\n\n    var notificationElem = makeNode();\n    notificationElem.className = CLASSES.notification + ' ' + CLASSES[type];\n\n    notificationElem.onclick = function () {\n      config.animation(notificationElem, null);\n    };\n\n    if (title) addElem(notificationElem, title, CLASSES.title);\n    if (config.icons[type]) createIcon(notificationElem, type, config);\n    if (message) addElem(notificationElem, message, CLASSES.message);\n\n    config.node.insertBefore(notificationElem, config.node.firstChild);\n    setTimeout(function () {\n      return config.animation(notificationElem, cb);\n    }, timeout || config.timeout);\n\n    if (cb) cb();\n    return this;\n  },\n  init: function init(config) {\n    var _this2 = this;\n\n    var newConfig = {};\n    Object.assign(newConfig, defaultConfig);\n    Object.assign(newConfig, config);\n\n    var cssStr = makeCss(newConfig.style);\n    appendStyles(cssStr);\n\n    newConfig.node.id = '' + CLASSES.container;\n    newConfig.node.className = '' + CLASSES.container;\n    newConfig.appendTarget.appendChild(newConfig.node);\n\n    Object.keys(newConfig.types).forEach(function (v) {\n      _exports[newConfig.types[v]] = function (message, title, timeout, cb, config) {\n        this.showMessage(message, title, newConfig.types[v], timeout, cb, config);\n        return this;\n      }.bind(_this2);\n    });\n\n    return this;\n  },\n  setIcon: function setIcon(type) {\n    var nodeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'i';\n    var attrs = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    attrs['class'] = attrs['class'] ? attrs['class'] + ' ' + CLASSES.icon : CLASSES.icon;\n\n    this.config.icons[type] = {\n      nodeType: nodeType,\n      attrs: attrs\n    };\n  }\n};\n\nexports['default'] = _exports;\nreturn miniToastr;\n}));\n"]}