{"version":3,"sources":["mini-toastr.js"],"names":["root","factory","define","amd","exports","module","miniToastr","this","_interopRequireDefault","obj","__esModule","default","_defineProperty2","require","_defineProperty3","_stringify","_stringify2","_typeof2","_typeof3","fadeOut","element","_this","style","opacity","parentNode","removeChild","setTimeout","apply","flatten","into","prefix","k","hasOwnProperty","prop","Date","RegExp","makeCss","flat","str","replace","substr","lastIndexOf","appendStyles","css","head","document","getElementsByTagName","styleElem","createElement","id","PACKAGE_NAME","type","styleSheet","cssText","appendChild","createTextNode","showMessage","message","title","timeout","cb","config","notificationElem","className","CLASSES","notification","onclick","titleElem","messageText","node","insertBefore","firstChild","_ref","_style","TYPES","error","warn","success","info","container","defaultConfig","appendTarget","body","position","z-index","right","top","cursor","padding","margin","background-color","color","border-radius","box-shadow","width","font-weight","display","vertical-align","init","cssStr"],"mappings":"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","file":"mini-toastr.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.miniToastr = factory();\n  }\n}(this, function() {\n'use strict';\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _stringify = require('babel-runtime/core-js/json/stringify');\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar miniToastr = function () {\n  'use strict';\n\n  var _ref, _style;\n\n  var PACKAGE_NAME = 'mini-toastr';\n\n  /**\n   * @param  {Node} element\n   */\n  function fadeOut(element) {\n    var _this = this;\n\n    if (element.style.opacity && element.style.opacity > 0.05) {\n      element.style.opacity = element.style.opacity - 0.05;\n    } else if (element.style.opacity && element.style.opacity <= 0.1) {\n      if (element.parentNode) {\n        element.parentNode.removeChild(element);\n      }\n    } else {\n      element.style.opacity = 0.9;\n    }\n    setTimeout(function () {\n      return fadeOut.apply(_this, [element]);\n    }, 1000 / 30);\n  }\n\n  var TYPES = {\n    error: 'error',\n    warn: 'warn',\n    success: 'success',\n    info: 'info'\n  };\n\n  var CLASSES = {\n    container: '' + PACKAGE_NAME,\n    notification: PACKAGE_NAME + '__notification',\n    title: PACKAGE_NAME + '-notification__title',\n    message: PACKAGE_NAME + '-notification__message',\n    error: '-' + TYPES.error,\n    warn: '-' + TYPES.warn,\n    success: '-' + TYPES.success,\n    info: '-' + TYPES.info\n  };\n\n  /**\n   * @param  {Object} obj\n   * @param  {Object} into\n   * @param  {String} prefix\n   * @return {Object}\n   */\n  function flatten(obj, into, prefix) {\n    into = into || {};\n    prefix = prefix || '';\n\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k)) {\n        var prop = obj[k];\n        if (prop && (typeof prop === 'undefined' ? 'undefined' : (0, _typeof3['default'])(prop)) === 'object' && !(prop instanceof Date || prop instanceof RegExp)) {\n          flatten(prop, into, prefix + k + ' ');\n        } else {\n          if (into[prefix] && (0, _typeof3['default'])(into[prefix]) === 'object') {\n            into[prefix][k] = prop;\n          } else {\n            into[prefix] = {};\n            into[prefix][k] = prop;\n          }\n        }\n      }\n    }\n\n    return into;\n  }\n\n  /**\n   * @param  {Object} obj\n   * @return {String}\n   */\n  function makeCss(obj) {\n    var flat = flatten(obj);\n    var str = (0, _stringify2['default'])(flat, null, 2);\n    str = str.replace(/\"([^\"]*)\": \\{/g, '$1 {').replace(/\"([^\"]*)\"/g, '$1').replace(/(\\w*-?\\w*): ([\\w\\d .#]*),?/g, '$1: $2;').replace(/},/g, '}\\n').replace(/ &([.:])/g, '$1');\n\n    str = str.substr(1, str.lastIndexOf('}') - 1);\n\n    return str;\n  }\n\n  /**\n   * @param  {String} css\n   */\n  function appendStyles(css) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var styleElem = document.createElement('style');\n    styleElem.id = PACKAGE_NAME + '-styles';\n    styleElem.type = 'text/css';\n\n    if (styleElem.styleSheet) {\n      styleElem.styleSheet.cssText = css;\n    } else {\n      styleElem.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(styleElem);\n  }\n\n  var defaultConfig = {\n    timeout: 60,\n    appendTarget: document.body,\n    node: document.createElement('div'),\n    style: (_style = {}, (0, _defineProperty3['default'])(_style, '.' + CLASSES.container, {\n      position: 'fixed',\n      'z-index': 99999,\n      right: '12px',\n      top: '12px'\n    }), (0, _defineProperty3['default'])(_style, '.' + CLASSES.notification, (_ref = {\n      cursor: 'pointer',\n      padding: '12px 18px',\n      margin: '0 0 6px 0',\n      'background-color': '#000',\n      opacity: 0.8,\n      color: '#fff',\n      // font: 'normal 13px \\'Lucida Sans Unicode\\', \\'Lucida Grande\\', Verdana, Arial, Helvetica, sans-serif',\n      'border-radius': '3px',\n      'box-shadow': '#3c3b3b 0 0 12px',\n      width: '300px'\n    }, (0, _defineProperty3['default'])(_ref, '&.' + CLASSES.error, {\n      'background-color': '#FF0000'\n    }), (0, _defineProperty3['default'])(_ref, '&.' + CLASSES.warn, {\n      'background-color': '#f9a937'\n    }), (0, _defineProperty3['default'])(_ref, '&.' + CLASSES.success, {\n      'background-color': '#73b573'\n    }), (0, _defineProperty3['default'])(_ref, '&.' + CLASSES.info, {\n      'background-color': '#58abc3'\n    }), (0, _defineProperty3['default'])(_ref, '&:hover', {\n      opacity: 1,\n      'box-shadow': '#000 0 0 12px'\n    }), _ref)), (0, _defineProperty3['default'])(_style, '.' + CLASSES.title, {\n      'font-weight': '500'\n    }), (0, _defineProperty3['default'])(_style, '.' + CLASSES.message, {\n      display: 'inline-block',\n      'vertical-align': 'middle',\n      width: '240px',\n      padding: '0 12px'\n    }), _style)\n  };\n\n  /**\n   * @param  {String} message\n   * @param  {String} title\n   * @param  {String} type\n   * @param  {Number} timeout\n   * @param  {Function} cb\n   * @param  {Object} config\n   */\n  function showMessage(message, title, type, timeout, cb, config) {\n    config = config || exports.config;\n\n    var notificationElem = document.createElement('div');\n    notificationElem.className = CLASSES.notification + ' ' + CLASSES[type];\n\n    notificationElem.onclick = function () {\n      fadeOut(notificationElem);\n    };\n\n    if (title) {\n      var titleElem = document.createElement('div');\n      titleElem.className = CLASSES.title;\n      titleElem.appendChild(document.createTextNode(title));\n      notificationElem.appendChild(titleElem);\n    }\n\n    if (message) {\n      var messageText = document.createElement('div');\n      messageText.className = CLASSES.message;\n      messageText.appendChild(document.createTextNode(message));\n      notificationElem.appendChild(messageText);\n    }\n\n    config.node.insertBefore(notificationElem, config.node.firstChild);\n    setTimeout(function () {\n      return fadeOut(notificationElem);\n    }, timeout || config.timeout);\n\n    if (cb) cb();\n  }\n\n  var exports = {\n    config: defaultConfig,\n    /**\n     * @param  {Object} config\n     * @return  {exports}\n     */\n    init: function init(config) {\n      this.config = config || defaultConfig;\n      var cssStr = makeCss(this.config.style);\n      appendStyles(cssStr);\n\n      this.config.node.id = '' + CLASSES.container;\n      this.config.node.className = '' + CLASSES.container;\n      this.config.appendTarget.appendChild(this.config.node);\n      return this;\n    },\n\n    /**\n     * @param  {String} message\n     * @param  {String} title\n     * @param  {Number} timeout\n     * @param  {Function} cb\n     * @param  {Object} config\n     * @return  {exports}\n     */\n    info: function info(message, title, timeout, cb, config) {\n      showMessage(message, title, TYPES.info, timeout, cb, config);\n      return this;\n    },\n\n    /**\n     * @param  {String} message\n     * @param  {String} title\n     * @param  {Number} timeout\n     * @param  {Function} cb\n     * @param  {Object} config\n     * @return  {exports}\n     */\n    warn: function warn(message, title, timeout, cb, config) {\n      showMessage(message, title, TYPES.warn, timeout, cb, config);\n    },\n\n    /**\n     * @param  {String} message\n     * @param  {String} title\n     * @param  {Number} timeout\n     * @param  {Function} cb\n     * @param  {Object} config\n     * @return  {exports}\n     */\n    success: function success(message, title, timeout, cb, config) {\n      showMessage(message, title, TYPES.success, timeout, cb, config);\n    },\n\n    /**\n     * @param  {String} message\n     * @param  {String} title\n     * @param  {Number} timeout\n     * @param  {Function} cb\n     * @param  {Object} config\n     * @return  {exports}\n     */\n    error: function error(message, title, timeout, cb, config) {\n      showMessage(message, title, TYPES.error, timeout, cb, config);\n    }\n  };\n\n  return exports;\n}();\nreturn miniToastr;\n}));\n"]}