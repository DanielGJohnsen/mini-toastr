{"version":3,"file":"mini-toastr.umd.js","sources":["../src/common.const.ts","../src/MessageType.ts","../src/MessageClass.ts","../src/mini-toastr-error.class.ts","../src/StyleClass.ts","../src/mini-toastr.ts"],"sourcesContent":["export const LIB_NAME: string = 'mini-toastr'\nexport const DEFAULT_TIMEOUT: number = 3000\nexport const EMPTY_STRING: string = ''","export type MessageType = 'error' | 'warn' | 'success' | 'info'\n\nexport const ERROR: MessageType = 'error'\nexport const WARN: MessageType = 'warn'\nexport const SUCCESS: MessageType = 'success'\nexport const INFO: MessageType = 'info'","import { ERROR, INFO, SUCCESS, WARN } from './MessageType'\n\n// TODO (S.Panfilov) hardcode\nexport declare type MessageClass = '-error' | '-warn' | '-success' | '-info'\n\n// TODO (S.Panfilov) casting\nexport const ERROR_CLASS: MessageClass = `-${ERROR}` as MessageClass\nexport const WARN_CLASS: MessageClass = `-${WARN}`as MessageClass\nexport const SUCCESS_CLASS: MessageClass = `-${SUCCESS}`as MessageClass\nexport const INFO_CLASS: MessageClass = `-${INFO}`as MessageClass","export class MiniToastrError extends Error {\n  constructor (message: string) {\n    super(message)\n    this.message = message\n    this.name = 'MiniToastrError'\n  }\n}\n","import { LIB_NAME } from './common.const'\n\nconst NOTIFICATION = 'notification'\n\n// TODO (S.Panfilov) hardcode\nexport type StyleClass = 'mini-toastr'\n  | 'mini-toastr__notification'\n  | 'mini-toastr-notification__title'\n  | 'mini-toastr-notification__icon'\n  | 'mini-toastr-notification__message'\n\n// TODO (S.Panfilov) casting\nexport const CONTAINER_CLASS: StyleClass = LIB_NAME as StyleClass\nexport const NOTIFICATION_CLASS: StyleClass = `${LIB_NAME}__${NOTIFICATION}` as StyleClass\nexport const TITLE_CLASS: StyleClass = `${LIB_NAME}-${NOTIFICATION}__title` as StyleClass\nexport const ICON_CLASS: StyleClass = `${LIB_NAME}-${NOTIFICATION}__icon` as StyleClass\nexport const MESSAGE_CLASS: StyleClass = `${LIB_NAME}-${NOTIFICATION}__message` as StyleClass","import { Config, FullConfig, Styles } from './Config'\nimport { MiniToastr } from './MiniToastr'\nimport { DEFAULT_TIMEOUT, EMPTY_STRING, LIB_NAME } from './common.const'\nimport { ERROR_CLASS, INFO_CLASS, MessageClass, SUCCESS_CLASS, WARN_CLASS } from './MessageClass'\nimport { ERROR, INFO, MessageType, SUCCESS, WARN } from './MessageType'\nimport { MiniToastrError } from './mini-toastr-error.class'\nimport { CONTAINER_CLASS, ICON_CLASS, MESSAGE_CLASS, NOTIFICATION_CLASS, TITLE_CLASS } from './StyleClass'\n\nfunction fadeOut (element: HTMLElement, cb?: Function): void {\n  let opacity: number = element.style.opacity ? +element.style.opacity : 0.9\n\n  if (opacity > 0.05) {\n    opacity -= 0.05\n  } else if (opacity <= 0.1) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element)\n      if (cb) cb()\n    }\n  } else {\n    opacity = 0.9\n  }\n\n  element.style.opacity = opacity.toString()\n  // setTimeout(() => fadeOut.apply((<any>this), [element, cb]), 1000 / 30) // TODO (S.Panfilov) wtf is this here?\n}\n\nfunction flatten (obj: any = {}, into: any = {}, prefix: string = EMPTY_STRING): Object { // TODO (S.Panfilov) \"into\" and \"obj\" are any\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      const prop = obj[k]\n      if (prop && typeof prop === 'object' && !(prop instanceof Date || prop instanceof RegExp)) {\n        flatten(prop, into, prefix + k + ' ')\n      } else {\n        if (into[prefix] && typeof into[prefix] === 'object') {\n          into[prefix][k] = prop\n        } else {\n          into[prefix] = {}\n          into[prefix][k] = prop\n        }\n      }\n    }\n  }\n\n  return into\n}\n\nfunction makeCss (styles: Styles): string {\n  const flat = flatten(styles)\n  let str = JSON.stringify(flat, null, 2)\n  str = str.replace(/\"([^\"]*)\": {/g, '$1 {')\n    .replace(/\"([^\"]*)\"/g, '$1')\n    .replace(/(\\w*-?\\w*): ([\\w\\d .#]*),?/g, '$1: $2;')\n    .replace(/},/g, '}\\n')\n    .replace(/ &([.:])/g, '$1')\n\n  str = str.substr(1, str.lastIndexOf('}') - 1)\n\n  return str\n}\n\nfunction isStyleSheet (element: Node | CSSImportRule): element is CSSImportRule {\n  return !!(<any>element).styleSheet\n}\n\nfunction appendStyles (css: string): void {\n  const head = document.head || document.getElementsByTagName('head')[0]\n  const styleElem = makeNode('style') as HTMLStyleElement // TODO (S.Panfilov) casting to HTMLStyleElement\n  styleElem.id = `${LIB_NAME}-styles`\n  styleElem.type = 'text/css'\n\n  if (isStyleSheet(styleElem)) {\n    styleElem.styleSheet.cssText = css // TODO (S.Panfilov) deprecated\n  } else {\n    styleElem.appendChild(document.createTextNode(css))\n  }\n\n  head.appendChild(styleElem)\n}\n\nconst config: FullConfig = {\n  types: { ERROR, WARN, SUCCESS, INFO },\n  animation: fadeOut,\n  timeout: DEFAULT_TIMEOUT,\n  icons: {},\n  appendTarget: document.body,\n  node: makeNode(),\n  allowHtml: false,\n  style: {\n    [`.${CONTAINER_CLASS}`]: {\n      position: 'fixed',\n      'z-index': 99999,\n      right: '12px',\n      top: '12px'\n    },\n    [`.${NOTIFICATION_CLASS}`]: {\n      cursor: 'pointer',\n      padding: '12px 18px',\n      margin: '0 0 6px 0',\n      'background-color': '#000',\n      opacity: 0.8,\n      color: '#fff',\n      'border-radius': '3px',\n      'box-shadow': '#3c3b3b 0 0 12px',\n      width: '300px',\n      [`&.${ ERROR_CLASS}`]: {\n        'background-color': '#D5122B'\n      },\n      [`&.${ WARN_CLASS}`]: {\n        'background-color': '#F5AA1E'\n      },\n      [`&.${ SUCCESS_CLASS}`]: {\n        'background-color': '#7AC13E'\n      },\n      [`&.${ INFO_CLASS}`]: {\n        'background-color': '#4196E1'\n      },\n      '&:hover': {\n        opacity: 1,\n        'box-shadow': '#000 0 0 12px'\n      }\n    },\n    [`.${TITLE_CLASS}`]: {\n      'font-weight': '500'\n    },\n    [`.${MESSAGE_CLASS}`]: {\n      display: 'inline-block',\n      'vertical-align': 'middle',\n      width: '240px',\n      padding: '0 12px'\n    }\n  }\n}\n\nfunction makeNode (type: string = 'div'): HTMLElement {\n  return document.createElement(type)\n}\n\nfunction createIcon (node: HTMLElement, type: MessageType, config: FullConfig): void {\n  const iconNode = makeNode(config.icons[type].nodeType)\n  const attrs = config.icons[type].attrs\n\n  for (const k in attrs) {\n    if (attrs.hasOwnProperty(k)) {\n      iconNode.setAttribute(k, attrs[k])\n    }\n  }\n\n  node.appendChild(iconNode)\n}\n\nfunction addElem (node: HTMLElement, text: string, className: string, config: FullConfig): void {\n  const elem = makeNode()\n  elem.className = className\n  if (config.allowHtml) {\n    elem.innerHTML = text\n  } else {\n    elem.appendChild(document.createTextNode(text))\n  }\n  node.appendChild(elem)\n}\n\nfunction getTypeClass (type: MessageType): MessageClass {\n  if (type === SUCCESS) return SUCCESS_CLASS\n  if (type === WARN) return WARN_CLASS\n  if (type === ERROR) return ERROR_CLASS\n  if (type === INFO) return INFO_CLASS\n\n  throw new MiniToastrError('Unknown class type. Check mini-toastr\\'s config\\s style section\"')\n}\n\nconst miniToastr: MiniToastr = {\n  config,\n  isInitialised: false,\n  showMessage (message: string, title: string, type: MessageType, timeout: number, cb: Function, overrideConf: Config): MiniToastr {\n    const config = { ...this.config, ...overrideConf } as FullConfig // TODO (S.Panfilov) \"Config\" casting\n\n    const notificationElem = makeNode()\n    notificationElem.className = `${NOTIFICATION_CLASS} ${getTypeClass(type)}`\n    notificationElem.onclick = () => config.animation(notificationElem)\n\n    if (title) addElem(notificationElem, title, TITLE_CLASS, config)\n    if (config.icons[type]) createIcon(notificationElem, type, config)\n    if (message) addElem(notificationElem, message, MESSAGE_CLASS, config)\n\n    config.node.insertBefore(notificationElem, config.node.firstChild)\n    setTimeout(() => config.animation(notificationElem, cb), timeout || config.timeout\n    )\n\n    if (cb) cb()\n    return this\n  },\n  init (aConfig: Config): MiniToastr {\n    this.config = { ...config, ...aConfig } as FullConfig // TODO (S.Panfilov) \"config\" is a kinda global scope and \"Config\" casting\n\n    const cssStr = makeCss(this.config.style)\n    appendStyles(cssStr)\n\n    this.config.node.id = CONTAINER_CLASS\n    this.config.node.className = CONTAINER_CLASS\n    this.config.appendTarget.appendChild(this.config.node)\n\n    // Object.keys(this.config.types).forEach(v => {\n    //     this[this.config.types[v]] = function (message: string, title: string, timeout: number, cb: Function, config: Config) {\n    //       this.showMessage(message, title, this.config.types[v], timeout, cb, config)\n    //       return this\n    //     }.bind(this) // TODO (S.Panfilov) bind?\n    //   }\n    // )\n\n    // TODO (S.Panfilov) check if it's working\n    Object.keys(miniToastr.config.types).forEach(v => {\n        miniToastr[miniToastr.config.types[v]] = function (message: string, title: string, timeout: number, cb: Function, config: Config) {\n          miniToastr.showMessage(message, title, miniToastr.config.types[v], timeout, cb, config)\n          return miniToastr\n        }.bind(this) // TODO (S.Panfilov) bind?\n      }\n    )\n\n    this.isInitialised = true\n\n    return this\n  },\n  setIcon (type: string, nodeType: string = 'i', attrs: any = []): MiniToastr { // TODO (S.Panfilov) attrs is any\n    attrs.class = attrs.class ? attrs.class + ' ' + ICON_CLASS : ICON_CLASS\n\n    this.config.icons[type] = { nodeType, attrs }\n\n    return this\n  }\n}\n\nexport default miniToastr"],"names":["tslib_1.__extends","tslib_1.__assign"],"mappings":"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"}